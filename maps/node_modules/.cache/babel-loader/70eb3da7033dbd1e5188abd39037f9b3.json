{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aioramu/Documents/DiscoverMaps/maps/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport * as fs from 'fs';\nimport { YMaps, Map, GeoObject, Placemark, Polyline, Rectangle, Polygon, Circle, Clusterer, ObjectManager } from 'react-yandex-maps';\nimport * as coor from \"./places\";\nimport React, { Component } from 'react';\nimport CustomersService from './ClientUp';\nimport Item from './Items';\n\nconst axios = require('axios').default;\n\nconst customersService = new CustomersService();\nconst API_URL = 'http://localhost:8000';\n\nclass CustomersList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customers: [],\n      nextPageURL: ''\n    };\n    this.nextPage = this.nextPage.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  componentDidMount() {\n    var self = this;\n    customersService.getCustomers().then(function (result) {\n      console.log(result);\n      self.setState({\n        customers: result.data,\n        nextPageURL: result.nextlink\n      });\n    });\n  }\n\n  handleDelete(e, pk) {\n    var self = this;\n    customersService.deleteCustomer({\n      pk: pk\n    }).then(() => {\n      var newArr = self.state.customers.filter(function (obj) {\n        return obj.pk !== pk;\n      });\n      self.setState({\n        customers: newArr\n      });\n    });\n  }\n\n  nextPage() {\n    var self = this;\n    console.log(this.state.nextPageURL);\n    customersService.getCustomersByURL(this.state.nextPageURL).then(result => {\n      self.setState({\n        customers: result.data,\n        nextPageURL: result.nextlink\n      });\n    });\n  }\n\n}\n\n; //console.log(coord[0]['default']['features'][50])\n//console.log(coord[0]['default']['features'][51])\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      value: '/usercase/api/item'\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    console.log(this.state);\n    fetch(this.state.value).then(res => res.json()).then(result => {\n      //console.log(result.data)\n      this.setState({\n        isLoaded: true,\n        items: result.data\n      });\n    }, // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\n    error => {\n      //console.log(this.state.items);\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n    console.log(this.state); //event.preventDefault();\n  }\n\n  componentDidMount(event) {\n    console.log(this.state);\n    fetch(this.state.value).then(res => res.json()).then(result => {\n      //console.log(result.data)\n      this.setState({\n        isLoaded: true,\n        items: result.data\n      });\n    }, // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\n    error => {\n      //console.log(this.state.items);\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      items\n    } = this.state;\n    var coord = items;\n\n    if (!isLoaded) {\n      this.handleSubmit();\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 14\n      }, this);\n    } else {\n      console.log(coord['features']);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"map\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"entry\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                value: this.state.value,\n                onChange: this.handleChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"/usercase/api/item\",\n                  children: \"\\u0412\\u0441\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"/usercase/api/events\",\n                  children: \"\\u0421\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"/usercase/api/performance\",\n                  children: \"\\u0421\\u043F\\u0435\\u043A\\u0442\\u0430\\u043A\\u043B\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://127.0.0.1:8000/usercase/login/\",\n              children: \"\\u0412\\u043E\\u0439\\u0442\\u0438 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://127.0.0.1:8000/usercase/registration\",\n              children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(YMaps, {\n          children: /*#__PURE__*/_jsxDEV(Map, {\n            defaultState: {\n              center: [55.751574, 37.573856],\n              zoom: 10\n            },\n            width: 1500,\n            height: 800,\n            children: /*#__PURE__*/_jsxDEV(ObjectManager, {\n              options: {\n                clusterDisableClickZoom: true,\n                clusterize: true,\n                gridSize: 32\n              },\n              objects: {\n                clusterDisableClickZoom: true,\n                openBalloonOnClick: true,\n                preset: 'islands#greenDotIcon'\n              },\n              clusters: {\n                clusterDisableClickZoom: true,\n                preset: 'islands#redClusterIcons'\n              },\n              filter: object => object.id % 2 === 0 //defaultFeatures={this.state.items}\n              ,\n              defaultFeatures: coord['features'],\n              modules: ['objectManager.addon.clustersBalloon', 'objectManager.addon.clustersHint', 'objectManager.addon.objectsBalloon', 'objectManager.addon.objectsHint']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 3\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/aioramu/Documents/DiscoverMaps/maps/src/App.js"],"names":["fs","YMaps","Map","GeoObject","Placemark","Polyline","Rectangle","Polygon","Circle","Clusterer","ObjectManager","coor","React","Component","CustomersService","Item","axios","require","default","customersService","API_URL","CustomersList","constructor","props","state","customers","nextPageURL","nextPage","bind","handleDelete","componentDidMount","self","getCustomers","then","result","console","log","setState","data","nextlink","e","pk","deleteCustomer","newArr","filter","obj","getCustomersByURL","App","error","isLoaded","items","value","handleChange","handleSubmit","event","target","fetch","res","json","render","coord","center","zoom","clusterDisableClickZoom","clusterize","gridSize","openBalloonOnClick","preset","object","id"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport * as fs from 'fs'\nimport { YMaps, Map,GeoObject, Placemark, Polyline, Rectangle, Polygon, Circle, Clusterer, ObjectManager } from 'react-yandex-maps';\nimport * as coor from \"./places\";\nimport  React, { Component } from  'react';\nimport  CustomersService  from  './ClientUp';\nimport Item from './Items';\nconst axios = require('axios').default;\nconst  customersService  =  new  CustomersService();\n\nconst API_URL = 'http://localhost:8000';\nclass  CustomersList  extends  Component {\n\nconstructor(props) {\n    super(props);\n    this.state  = {\n        customers: [],\n        nextPageURL:  ''\n    };\n    this.nextPage  =  this.nextPage.bind(this);\n    this.handleDelete  =  this.handleDelete.bind(this);\n}\n\ncomponentDidMount() {\n    var  self  =  this;\n    customersService.getCustomers().then(function (result) {\n        console.log(result);\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\nhandleDelete(e,pk){\n    var  self  =  this;\n    customersService.deleteCustomer({pk :  pk}).then(()=>{\n        var  newArr  =  self.state.customers.filter(function(obj) {\n            return  obj.pk  !==  pk;\n        });\n\n        self.setState({customers:  newArr})\n    });\n}\n\nnextPage(){\n    var  self  =  this;\n    console.log(this.state.nextPageURL);\n    customersService.getCustomersByURL(this.state.nextPageURL).then((result) => {\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\n};\n//console.log(coord[0]['default']['features'][50])\n//console.log(coord[0]['default']['features'][51])\nclass App extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      value: '/usercase/api/item'\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {    this.setState({value: event.target.value});  }\n  handleSubmit(event) {\n    console.log(this.state)\n    fetch(this.state.value)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          //console.log(result.data)\n          this.setState({\n            isLoaded: true,\n            items: result.data\n          });\n        },\n\n        // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n        // чтобы не перехватывать исключения из ошибок в самих компонентах.\n        (error) => {\n          //console.log(this.state.items);\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n    console.log(this.state)\n  //event.preventDefault();\n}\n  componentDidMount(event) {\n    console.log(this.state)\n    fetch(this.state.value)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          //console.log(result.data)\n          this.setState({\n            isLoaded: true,\n            items: result.data\n          });\n        },\n\n        // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n        // чтобы не перехватывать исключения из ошибок в самих компонентах.\n        (error) => {\n          //console.log(this.state.items);\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\nrender() {\n  const { error, isLoaded, items } = this.state;\n\n  var coord=items\n\n  if (!isLoaded) {\n    this.handleSubmit(  )\n      return <div>Загрузка...</div>;\n    } else {\n      console.log(coord['features'])\n  return(\n\n  <div class=\"map\">\n\n  <div id=\"entry\">\n  <form onSubmit={this.handleSubmit}>\n        <label>\n          Выберите событие:\n          <select value={this.state.value} onChange={this.handleChange}>\n            <option value=\"/usercase/api/item\">Все</option>\n            <option value=\"/usercase/api/events\">События</option>\n            <option value=\"/usercase/api/performance\">Спектакли</option>\n          </select>\n        </label>\n        <input type=\"submit\" value=\"Отправить\" />\n      </form>\n    <center>\n    <a href=\"http://127.0.0.1:8000/usercase/login/\">Войти </a>\n    <a href=\"http://127.0.0.1:8000/usercase/registration\">Зарегестрироваться</a>\n    </center>\n  </div>\n  <YMaps >\n  <Map\n    defaultState={{\n      center: [55.751574, 37.573856],\n      zoom: 10,\n    }}\n    width={1500} height={800}>\n    <ObjectManager\n      options={{\n        clusterDisableClickZoom: true,\n        clusterize: true,\n        gridSize: 32,\n\n      }}\n      objects={{\n        clusterDisableClickZoom: true,\n        openBalloonOnClick: true,\n        preset: 'islands#greenDotIcon',\n      }}\n      clusters={{\n        clusterDisableClickZoom: true,\n        preset: 'islands#redClusterIcons',\n      }}\n      filter={object => object.id % 2 === 0}\n\n      //defaultFeatures={this.state.items}\n\n      defaultFeatures={coord['features']}\n      modules={[\n        'objectManager.addon.clustersBalloon',\n        'objectManager.addon.clustersHint',\n        'objectManager.addon.objectsBalloon',\n        'objectManager.addon.objectsHint',\n      ]}\n    />\n  </Map>\n</YMaps>\n</div>\n);\n}\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}