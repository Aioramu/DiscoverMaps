{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aioramu/Documents/DiscoverMaps/maps/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport * as fs from 'fs';\nimport { YMaps, Map, GeoObject, Placemark, Polyline, Rectangle, Polygon, Circle, Clusterer, ObjectManager } from 'react-yandex-maps';\nimport * as coor from \"./places\";\nimport React, { Component } from 'react';\nimport CustomersService from './ClientUp';\nimport Item from './Items';\n\nconst axios = require('axios').default;\n\nconst customersService = new CustomersService();\nconst API_URL = 'http://0.0.0.0:9000';\n\nclass CustomersList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      customers: [],\n      nextPageURL: ''\n    };\n    this.nextPage = this.nextPage.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  componentDidMount() {\n    var self = this;\n    customersService.getCustomers().then(function (result) {\n      console.log(result);\n      self.setState({\n        customers: result.data,\n        nextPageURL: result.nextlink\n      });\n    });\n  }\n\n  handleDelete(e, pk) {\n    var self = this;\n    customersService.deleteCustomer({\n      pk: pk\n    }).then(() => {\n      var newArr = self.state.customers.filter(function (obj) {\n        return obj.pk !== pk;\n      });\n      self.setState({\n        customers: newArr\n      });\n    });\n  }\n\n  nextPage() {\n    var self = this;\n    console.log(this.state.nextPageURL);\n    customersService.getCustomersByURL(this.state.nextPageURL).then(result => {\n      self.setState({\n        customers: result.data,\n        nextPageURL: result.nextlink\n      });\n    });\n  }\n\n}\n\n; //console.log(coord[0]['default']['features'][50])\n//console.log(coord[0]['default']['features'][51])\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://0.0.0.0:9000/usercase/api/item/\").then(res => res.json()).then(result => {\n      //console.log(result.data)\n      this.setState({\n        isLoaded: true,\n        items: result.data\n      });\n    }, // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n    // чтобы не перехватывать исключения из ошибок в самих компонентах.\n    error => {\n      //console.log(this.state.items);\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      items\n    } = this.state; //console.log('wtf',this.state.items)\n\n    var coord = items;\n\n    if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 14\n      }, this);\n    } else {\n      console.log(coord['features']);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"map\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"entry\",\n          children: /*#__PURE__*/_jsxDEV(\"center\", {\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://127.0.0.1:8000/usercase/login/\",\n              children: \"\\u0412\\u043E\\u0439\\u0442\\u0438 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"http://127.0.0.1:8000/usercase/registration\",\n              children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0435\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(YMaps, {\n          children: [console.log(coord), /*#__PURE__*/_jsxDEV(Map, {\n            defaultState: {\n              center: [55.751574, 37.573856],\n              zoom: 10\n            },\n            width: 1500,\n            height: 800,\n            children: /*#__PURE__*/_jsxDEV(ObjectManager, {\n              options: {\n                clusterDisableClickZoom: true,\n                clusterize: true,\n                gridSize: 32\n              },\n              objects: {\n                clusterDisableClickZoom: true,\n                openBalloonOnClick: true,\n                preset: 'islands#greenDotIcon'\n              },\n              clusters: {\n                clusterDisableClickZoom: true,\n                preset: 'islands#redClusterIcons'\n              },\n              filter: object => object.id % 2 === 0 //defaultFeatures={this.state.items}\n              ,\n              defaultFeatures: coord['features'],\n              modules: ['objectManager.addon.clustersBalloon', 'objectManager.addon.clustersHint', 'objectManager.addon.objectsBalloon', 'objectManager.addon.objectsHint']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 3\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/aioramu/Documents/DiscoverMaps/maps/src/App.js"],"names":["fs","YMaps","Map","GeoObject","Placemark","Polyline","Rectangle","Polygon","Circle","Clusterer","ObjectManager","coor","React","Component","CustomersService","Item","axios","require","default","customersService","API_URL","CustomersList","constructor","props","state","customers","nextPageURL","nextPage","bind","handleDelete","componentDidMount","self","getCustomers","then","result","console","log","setState","data","nextlink","e","pk","deleteCustomer","newArr","filter","obj","getCustomersByURL","App","error","isLoaded","items","fetch","res","json","render","coord","center","zoom","clusterDisableClickZoom","clusterize","gridSize","openBalloonOnClick","preset","object","id"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport * as fs from 'fs'\nimport { YMaps, Map,GeoObject, Placemark, Polyline, Rectangle, Polygon, Circle, Clusterer, ObjectManager } from 'react-yandex-maps';\nimport * as coor from \"./places\";\nimport  React, { Component } from  'react';\nimport  CustomersService  from  './ClientUp';\nimport Item from './Items';\nconst axios = require('axios').default;\nconst  customersService  =  new  CustomersService();\n\nconst API_URL = 'http://0.0.0.0:9000';\nclass  CustomersList  extends  Component {\n\nconstructor(props) {\n    super(props);\n    this.state  = {\n        customers: [],\n        nextPageURL:  ''\n    };\n    this.nextPage  =  this.nextPage.bind(this);\n    this.handleDelete  =  this.handleDelete.bind(this);\n}\n\ncomponentDidMount() {\n    var  self  =  this;\n    customersService.getCustomers().then(function (result) {\n        console.log(result);\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\nhandleDelete(e,pk){\n    var  self  =  this;\n    customersService.deleteCustomer({pk :  pk}).then(()=>{\n        var  newArr  =  self.state.customers.filter(function(obj) {\n            return  obj.pk  !==  pk;\n        });\n\n        self.setState({customers:  newArr})\n    });\n}\n\nnextPage(){\n    var  self  =  this;\n    console.log(this.state.nextPageURL);\n    customersService.getCustomersByURL(this.state.nextPageURL).then((result) => {\n        self.setState({ customers:  result.data, nextPageURL:  result.nextlink})\n    });\n}\n};\n//console.log(coord[0]['default']['features'][50])\n//console.log(coord[0]['default']['features'][51])\nclass App extends Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://0.0.0.0:9000/usercase/api/item/\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          //console.log(result.data)\n          this.setState({\n            isLoaded: true,\n            items: result.data\n          });\n        },\n\n        // Примечание: важно обрабатывать ошибки именно здесь, а не в блоке catch(),\n        // чтобы не перехватывать исключения из ошибок в самих компонентах.\n        (error) => {\n          //console.log(this.state.items);\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  }\nrender() {\n  const { error, isLoaded, items } = this.state;\n  //console.log('wtf',this.state.items)\n\n  var coord=items\n  if (!isLoaded) {\n      return <div>Загрузка...</div>;\n    } else {\n      console.log(coord['features'])\n  return(\n\n\n  <div class=\"map\">\n  <div id=\"entry\">\n    <center>\n    <a href=\"http://127.0.0.1:8000/usercase/login/\">Войти </a>\n    <a href=\"http://127.0.0.1:8000/usercase/registration\">Зарегестрироваться</a>\n    </center>\n  </div>\n  <YMaps >\n  {console.log(coord)}\n  <Map\n    defaultState={{\n      center: [55.751574, 37.573856],\n      zoom: 10,\n    }}\n    width={1500} height={800}>\n    <ObjectManager\n      options={{\n        clusterDisableClickZoom: true,\n        clusterize: true,\n        gridSize: 32,\n\n      }}\n      objects={{\n        clusterDisableClickZoom: true,\n        openBalloonOnClick: true,\n        preset: 'islands#greenDotIcon',\n      }}\n      clusters={{\n        clusterDisableClickZoom: true,\n        preset: 'islands#redClusterIcons',\n      }}\n      filter={object => object.id % 2 === 0}\n\n      //defaultFeatures={this.state.items}\n\n      defaultFeatures={coord['features']}\n      modules={[\n        'objectManager.addon.clustersBalloon',\n        'objectManager.addon.clustersHint',\n        'objectManager.addon.objectsBalloon',\n        'objectManager.addon.objectsHint',\n      ]}\n    />\n  </Map>\n</YMaps>\n</div>\n);\n}\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}